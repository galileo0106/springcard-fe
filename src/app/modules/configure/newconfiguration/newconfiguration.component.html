<app-over-limit [limitLabel]="limitLabel" *ngIf="overLimit"></app-over-limit>

<mat-card *ngIf="!overLimit">
  <mat-card-header>
    <div mat-card-avatar>
      <mat-icon aria-hidden="false" aria-label="Create" class="reverse_icon">edit</mat-icon>
    </div>
    <mat-card-title i18n>Create a new configuration</mat-card-title>
    <mat-card-subtitle i18n>To create a new configuration please fill out the form below.</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="configurationForm" (ngSubmit)="configure()" class="form-container">
      <mat-form-field class="full-width">
        <mat-label i18n>Select the target product</mat-label>
        <mat-select formControlName="devices" required>
          <mat-option *ngFor="let device of devicesList" [value]="device.component" (click)="changeDevice(device.title)">{{ device.title }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-label i18n>Configuration name</mat-label>
        <input matInput type="text" formControlName="title" required />
        <mat-error>
          <val-errors controlName="title"></val-errors>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <mat-label i18n>Configuration description</mat-label>
        <textarea matInput placeholder="" formControlName="description"></textarea>
      </mat-form-field>

      <!--<div class="mat-form-field-wrapper">
        <mat-checkbox formControlName="favorites" i18n>Favorite this configuration</mat-checkbox>
      </div>-->

      <button mat-flat-button type="submit" i18n color="primary"><mat-icon>add</mat-icon> Create</button>
    </form>
  </mat-card-content>
</mat-card>
